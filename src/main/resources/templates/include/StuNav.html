<!DOCTYPE html>
<html lang="zh-CN"  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div th:fragment="bootstrap" >
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/3.3.7/css/bootstrap.min.css}">
    <script th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>
    <script th:src="@{/webjars/bootstrap/3.3.7/js/bootstrap.min.js}"></script>
</div>
<div th:fragment="stuNav">
    <script>
        function loginOut() {
            if(confirm('将退出该系统!')){
                // sessionStorage.clear();
                location.replace("./Tlogout"); //loginOut即是你所要转的退出登录的地址
            }else {

            }
        }
    </script>
    <style>
        /*
 * Base structure
 */

        /* Move down content because we have a fixed navbar that is 50px tall */
        body {
            padding-top: 50px;
        }


        /*
         * Global add-ons
         */

        .sub-header {
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        /*
         * Top navigation
         * Hide default border to remove 1px line.
         */
        .navbar-fixed-top {
            border: 0;
        }

        /*
         * Sidebar
         */

        /* Hide for mobile, show later */
        .sidebar {
            display: none;
        }
        @media (min-width: 768px) {
            .sidebar {
                position: fixed;
                top: 51px;
                bottom: 0;
                left: 0;
                z-index: 1000;
                display: block;
                padding: 20px;
                overflow-x: hidden;
                overflow-y: auto; /* Scrollable contents if viewport is shorter than content. */
                background-color: #f5f5f5;
                border-right: 1px solid #eee;
            }
        }

        /* Sidebar navigation */
        .nav-sidebar {
            margin-right: -21px; /* 20px padding + 1px border */
            margin-bottom: 20px;
            margin-left: -20px;
        }
        .nav-sidebar > li > a {
            padding-right: 20px;
            padding-left: 20px;
        }
        .nav-sidebar > .active > a,
        .nav-sidebar > .active > a:hover,
        .nav-sidebar > .active > a:focus {
            color: #fff;
            background-color: #428bca;
        }


        /*
         * Main content
         */

        .main {
            padding: 20px;
        }
        @media (min-width: 768px) {
            .main {
                padding-right: 40px;
                padding-left: 40px;
            }
        }
        .main .page-header {
            margin-top: 0;
        }


        /*
         * Placeholder dashboard ideas
         */

        .placeholders {
            margin-bottom: 30px;
            text-align: center;
        }
        .placeholders h4 {
            margin-bottom: 0;
        }
        .placeholder {
            margin-bottom: 20px;
        }
        .placeholder img {
            display: inline-block;
            border-radius: 50%;
        }
    </style>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand " id="ht"> <strong>在线考试系统</strong></a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><img  th:if="${session.user!=null}" th:src="${session.user.imgurl}" alt="用户头像" style="width: 30px;height: 30px;border-radius: 50%;margin-top: 10px;"></li>
                    <li><a id="ht2"><span class="glyphicon glyphicon-user" th:if="${session.user!=null}" th:text="${session.user.name}" id="username"></span></a></li>
                    <li><a><input type="hidden" name="classid" /></a></li>
                    <li><a href="/signout" ><span class="glyphicon glyphicon-off"></span>退出系统</a></li>
                    <li><a></a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-3 col-md-2 sidebar">
                <ul class="nav nav-sidebar">
                    <li><a class="a-hd"><span class="glyphicon glyphicon-briefcase"></span>&nbsp; &nbsp;&nbsp;考试</a></li>
                    <li id="menu1"><a href="/createExam" ><span class="glyphicon glyphicon-play" ></span>&nbsp; &nbsp;&nbsp;创建考试</a></li>
                    <li id="menu2"><a href="/myExam"><span class="glyphicon glyphicon-play"></span>&nbsp; &nbsp;&nbsp;我的考试</a></li>
                </ul>
                <ul class="nav nav-sidebar">
                    <li><a class="a-hd"><span class="glyphicon glyphicon-briefcase"></span>&nbsp; &nbsp;&nbsp;个人中心</a></li>
                    <li id="menu3"><a href="/personalInfo"><span class="glyphicon glyphicon-play"></span>&nbsp; &nbsp;&nbsp;个人信息</a></li>
                    <li id="menu4"><a href="/changePassword"><span class="glyphicon glyphicon-play"></span>&nbsp; &nbsp;&nbsp;修改密码</a></li>
                </ul>

                <span style="display: none;" th:if="${session.user!=null}" th:text="${session.user.role}" id="role"></span>
                <script>

                    if(document.getElementById("username")==null)
                    {
                        window.location.href = "signin";
                    }
                    else if(document.getElementById("role").innerHTML!=='1') {
                    window.location.href = "signin";
                    }

                    document.getElementById("menu1").onclick = function () {
                       sessionStorage.setItem("menu", "menu1");
                    };
                    document.getElementById("menu2").onclick = function () {
                        sessionStorage.setItem("menu", "menu2");
                    };
                    document.getElementById("menu3").onclick = function () {
                        sessionStorage.setItem("menu", "menu3");
                    };
                    document.getElementById("menu4").onclick = function () {
                        sessionStorage.setItem("menu", "menu4");
                    };
                    if(sessionStorage.getItem("menu")!=null){
                        var menu = sessionStorage.getItem("menu");
                            document.getElementById(menu).className = "active";
                    }

                </script>

            </div>

        </div>

    </div>

</div>
</body>
</html>